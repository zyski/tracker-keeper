<!-- Content -->
<nav class="zg-page-header">
  <div class="container">
    <div class="row">
      <div class="col-sm-12 col-md-9">
        <h1>Administration <small><a href="/"><span class="glyphicon glyphicon-home"></span></a></small></h1>
        <ul class="list-inline">
          <li><a href="#/timesheet">Timesheet</a></li>
          <li><a href="#/task">Task</a></li>
          <li><a href="#/report">Report</a></li>
          <li><a href="#/admin">Admin</a></li>
        </ul>
      </div>
    </div> <!-- column 2 -->
  </div> <!-- row -->
</nav>


<div class="container">
  <div class="row">
    <div class="col-sm-12">

      <table class="table">
        <thead>
          <tr><th class="col-sm-2">Admin Tool</th><th class="col-sm-4">Use</th><th>Description</th></tr>
        </thead>
        <tbody>
        <tr>
          <td>Import</td>
          <td><span><label class="btn btn-default">Open File... <input type="file" style="display: none;" onchange="angular.element(this).scope().fileNameChanged(this)"></label>&nbsp;&nbsp;{{importDataStatus}}</span></td>
          <td>Import all data from a file into your browsers local storage for this site. Select a file and data will be imported immediately.</td>
        </tr>
        <tr>
          <td>Export</td>
          <td><a ng-href="{{downloadUrl}}" download="backup.json" role="button">Download data</a></td>
          <td>Export all data from browser local storage to a file for later import. Clicking on the link will download the file immediately.</td>
        </tr>
        <tr>
          <td>Trim Work (time entries)</td>
          <td>
            <form>
              <!-- todo: make the re-calc work from a specific date through to now
              <div class="form-group">
                <label for="recalcDate">From</label>
                <input type="date" class="form-control" id="recalcDate" placeholder="From Date">
              </div>
            -->
              <span>
                <button class="btn btn-default" ng-click="trimWork()">Run</button>&nbsp;&nbsp;{{trimWorkStatus}}
              </span>
            </form>
          </td>
          <td>Will read in all Work (time entries), keeping the latest 740 days worth of entries, removing the rest. <strong>Careful, advise you backup your data first using the Export tool above.</strong></td>
        </tr>
        <tr>
          <td>Re-calc Work</td>
          <td>
            <form>
              <!-- todo: make the re-calc work from a specific date through to now
              <div class="form-group">
                <label for="recalcDate">From</label>
                <input type="date" class="form-control" id="recalcDate" placeholder="From Date">
              </div>
            -->
              <span>
                <button class="btn btn-default" ng-click="recalcWork()">Run</button>&nbsp;&nbsp;{{recalcWorkStatus}}
              </span>
            </form>
          </td>
          <td>Will read in all Work (time entries), lookup the assigned Task, then copy the Task's current Rate per Hour, Rate per Unit and Project Name values to the Work record. <strong>Careful, advise you backup your data first using the Export tool above.</strong></td>
        </tr>
        </tbody>
      </table>


    </div> <!-- column -->
  </div> <!-- row -->
</div> <!-- container -->
